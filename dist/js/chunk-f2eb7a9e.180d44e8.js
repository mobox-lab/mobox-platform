(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f2eb7a9e"],{8654:function(t,e,n){"use strict";n("bf93")},bf93:function(t,e,n){},c506:function(t,e,n){t.exports=n.p+"img/vemobox.2181fd13.png"},d5de:function(t,e,n){"use strict";n.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n("c506"),alt:""}})])}],s=(n("99af"),n("a9e3"),n("b680"),n("96cf"),n("1da1")),c=n("bc3a"),o=n.n(c),i=n("3f7a"),r=n("ed08"),l={data:function(){return{wallets:[{name:"MOBOX Wallet (recommended)",icon:n("9f6e"),type:"mobox"},{name:"Binance Chain Wallet",icon:n("959f"),type:"binance"},{name:"Metamask",icon:n("288e"),type:"metamask"}],wallet:"",address:"",isShowConnectWallet:!1,isShowDisconnect:!1,vembox:0,mbox:0,avglockdays:0,circulating:0}},components:{Dialog:i.a},methods:{getVembox:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://nftapi.mobox.io/vemobox/avglockdays");case 2:n=e.sent,t.vembox=r.a.formatMoney(n.data.totalVemobox),t.mbox=n.data.totalMobox,t.avglockdays=parseInt(n.data.avglockdays);case 6:case"end":return e.stop()}}),e)})))()},getCirculation:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("https://nftapi.mobox.io/buybackpool/amount");case 2:n=e.sent,t.circulating=Number(n.data.circulating)/1e18;case 4:case"end":return e.stop()}}),e)})))()},initWallet:function(){var t=window.localStorage.getItem("wallet");t&&this.connectWallet(t)},closeConnectWallet:function(){this.isShowConnectWallet=!1},openConnectWallet:function(){this.address?this.isShowDisconnect=!0:this.isShowConnectWallet=!0},closeDisconnect:function(){this.isShowDisconnect=!1},onDisconnect:function(){window.localStorage.removeItem("wallet"),this.address="",this.closeDisconnect()},connectWallet:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.wallet=t,n.t0=t,n.next="mobox"===n.t0?4:"binance"===n.t0?7:"metamask"===n.t0?10:13;break;case 4:return n.next=6,e.connectMobox();case 6:return n.abrupt("break",13);case 7:return n.next=9,e.connectBinance();case 9:return n.abrupt("break",13);case 10:return n.next=12,e.connectMetamask();case 12:return n.abrupt("break",13);case 13:e.closeConnectWallet();case 14:case"end":return n.stop()}}),n)})))()},connectMobox:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.mbox){e.next=5;break}return e.next=3,null===(n=window.mbox)||void 0===n?void 0:n.BinanceChain.enable();case 3:a=e.sent,t.address=a[0];case 5:case"end":return e.stop()}}),e)})))()},connectMetamask:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===window.ethereum||!window.ethereum.request){e.next=11;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:n=e.sent,t.address=n[0],e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},connectBinance:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===window.BinanceChain){e.next=11;break}return e.prev=1,e.next=4,window.BinanceChain.request({method:"eth_requestAccounts"});case 4:n=e.sent,t.address=n[0],e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},computed:{mboxFormat:function(){return r.a.formatMoney(this.mbox)},circulatingRatio:function(){return this.mbox&&this.circulating?(this.mbox/this.circulating*100).toFixed(2):0},addressString:function(){return"".concat(this.address.substring(0,6),"....").concat(this.address.substring(this.address.length-4,this.address.length))}},watch:{wallet:function(t){window.localStorage.setItem("wallet",t)}},mounted:function(){this.getVembox(),this.getCirculation(),this.initWallet()}},u=(n("8654"),n("2877")),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"governance"},[n("div",{staticClass:"header"},[n("div",{staticClass:"info"},[n("h4",[t._v(t._s(t.$t("Governance_4")))]),n("p",[t._v(t._s(t.$t("Governance_5")))])]),n("div",{staticClass:"button",on:{click:t.openConnectWallet}},[t._v(" "+t._s(t.address?t.addressString:t.$t("Home_9"))+" ")])]),n("div",{staticClass:"data"},[n("div",{staticClass:"data-item"},[n("ul",[n("li",[n("div",{staticClass:"layout"},[n("h4",[t._v(t._s(t.mboxFormat)+"("+t._s(t.circulatingRatio)+"%)")]),n("p",[t._v(t._s(t.$t("Home_89"))+"(% in circulation)")])])])]),n("ul",[n("li",[n("div",{staticClass:"layout"},[n("h4",[t._v(t._s(t.vembox))]),n("p",[t._v(t._s(t.$t("Home_90")))])])]),n("li",[n("div",{staticClass:"layout"},[n("h4",[t._v(t._s(t.avglockdays))]),n("p",[t._v(t._s(t.$t("Home_91")))])])])])]),n("div",{staticClass:"vembox"},[n("div",{staticClass:"info"},[n("h4",[t._v("-")]),n("p",[t._v(t._s(t.$t("Governance_6")))]),n("p",[t._v(t._s(t.$t("Governance_7")))])]),t._m(0)])]),n("router-view")],1),n("Dialog",{model:{value:t.isShowConnectWallet,callback:function(e){t.isShowConnectWallet=e},expression:"isShowConnectWallet"}},[n("div",{staticClass:"connect-wallet wallet-dialog"},[n("h4",{staticClass:"title"},[t._v(t._s(t.$t("Home_9")))]),n("ul",t._l(t.wallets,(function(e){return n("li",{key:e.type,on:{click:function(n){return t.connectWallet(e.type)}}},[n("h5",[t._v(t._s(e.name))]),n("div",{staticClass:"icon"},[n("img",{attrs:{src:e.icon}})])])})),0),n("div",{staticClass:"close",on:{click:t.closeConnectWallet}},[n("i",{staticClass:"iconfont"},[t._v("")])])])]),n("Dialog",{model:{value:t.isShowDisconnect,callback:function(e){t.isShowDisconnect=e},expression:"isShowDisconnect"}},[n("div",{staticClass:"disconnect-wallet wallet-dialog"},[n("h4",{staticClass:"title"},[t._v("断开连接")]),n("div",{staticClass:"close",on:{click:t.closeDisconnect}},[n("i",{staticClass:"iconfont"},[t._v("")])]),n("div",{staticClass:"address"},[t._v(t._s(t.address))]),n("div",{staticClass:"button",on:{click:t.onDisconnect}},[t._v("断开")])])])],1)}),a,!1,null,"102ee098",null);e.default=d.exports}}]);